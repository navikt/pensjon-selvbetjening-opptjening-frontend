= Redux

[#_opptjening]
== Opptjening

=== OpptjeningActions

_Action_-typer:
[square]
* FETCH_OPPTJENING_STARTED
* FETCH_OPPTJENING_SUCCESS
* FETCH_OPPTJENING_FAILURE

=== OpptjeningReducer

Oppdatering av _state_.

=== OpptjeningSaga

API-kall mot backend. Kall til `fetchToJson` som ligger i katalogen "api".

=== OpptjeningSelectors

Hjelpefunksjoner for å hente data fra _state_.

|===
| Selector | Beskrivelse | Returverdi

| getOpptjening
| Hele opptjeningsobjektet
a|
[source,json]
----
{
    "opptjeningData": {},
    "numberOfYearsWithPensjonspoeng": null,
    "fodselsaar": 1972,
    "andelPensjonBasertPaBeholdning": 10
}
----

| getOpptjeningLoading
| Lasting av data pågår
| true/false

| getOpptjeningError
| Feil ved lasting data
| true/false

| getOpptjeningData
| Property-en "opptjeningData"
| object

| getFodselsAar
| Property-en "fodselsaar"
| integer

| getFornavn
| Property-en "fornavn"
| string

| getMellomnavn
| Property-en "mellomnavn"
| string

| getEtternavn
| Property-en "etternavn"
| string

| getAndelPensjonBasertPaBeholdning
| Property-en "andelPensjonBasertPaBeholdning"
| integer

| getAntallAarPensjonsPoeng
| Property-en "numberOfYearsWithPensjonspoeng"
| integer

| getOmsorgsOpptjeningMap
| Map for å slå opp om bruker hadde omsorgsopptjening et gitt år
a|
[source,json]
----
{
    "<year>": {
        "hasOmsorgsOpptjening": "<boolean>"
    }
}
----

| hasOverforeOmsorgsOpptjeningLink
| Returnerer true hvis OVERFORE_OMSORGSOPPTJENING merknad finnes for bruker
| boolean

| getOpptjeningDataWithoutNullYears
| Ikke i bruk
| -

| getUttakForYear
| Brukes av `getPensjonsbeholdningAndPensjonspoeng`
| [integer]

| getPensjonsbeholdningAndPensjonspoeng
| Objekt med år og data
a|
[source,json]
----
{
    "<year>": {
        "pensjonspoeng": "<float>",
        "pensjonsbeholdning": "<integer>",
        "uttak": "[integer]"
    }
}
----

| getPensjonsBeholdningArray
| Ikke i bruk
| -

| getYearArray
| Liste av årstall med data
| Array

| getOpptjeningByYear
| Opptjeningsdata for et gitt år
| object

| getLatestPensjonsBeholdning
| Pensjonsbeholdningen for det siste året i dataene
| Beløp

| getInntekter
| Liste av objekter med år og inntekt
a|
[source, json]
----
[
    {"year": 2016, "inntekt": 1000000},
    {"year": 2017, "inntekt": 1000000},
    {"year": 2018, "inntekt": 1000000},
    {"year": 2019, "inntekt": 1000000},
    {"year": 2020, "inntekt": 1000000}
]
----

| getUserGroup
| Hvilken brukergruppe man tilhører basert på fødselsår
| string

| getName
| Navnet til innlogget bruker: <fornavn> <mellomnavn> <etternavn>
| string

|===

[#_unleash]
== Unleash

=== UnleashActions

=== UnleashReducer

=== UnleashSaga

=== UnleashSelectors
